<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</title>
  <meta name="description" content="Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
  
  <style>
    /* --- ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† --- */
    :root {
      --primary: #10b981; /* Emerald 500 */
      --primary-dark: #059669;
      --secondary: #0ea5e9; /* Sky 500 */
      --accent: #f59e0b;
      --bg-gradient: linear-gradient(135deg, #f0fdf4 0%, #e0f2fe 100%);
    }

    * { font-family: 'Almarai', 'Tajawal', sans-serif; -webkit-tap-highlight-color: transparent; }
    
    body {
      background: var(--bg-gradient);
      min-height: 100vh;
      overflow-x: hidden;
      color: #1f2937;
    }

    /* --- ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ (Glassmorphism) --- */
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.6);
      box-shadow: 0 10px 40px -10px rgba(0,0,0,0.08);
    }

    .dark-glass {
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
    }

    /* --- Ø­Ø±ÙƒØ§Øª Ù…Ø­Ø³Ù†Ø© (Performance Optimized) --- */
    /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Transform Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Top/Left Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ */
    .floating-icon { animation: float 6s ease-in-out infinite; }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }

    .fade-in-up { animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(20px); }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

    /* --- Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ --- */
    .input-group { position: relative; transition: all 0.3s ease; }
    .input-field {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      background: #ffffff;
      border: 2px solid #e5e7eb;
      border-radius: 1rem;
      font-size: 1rem;
      transition: all 0.2s;
    }
    .input-field:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
      outline: none;
    }
    .input-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.25rem;
      color: #9ca3af;
      pointer-events: none;
    }

    /* --- Ø§Ù„Ø£Ø²Ø±Ø§Ø± --- */
    .btn-main {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn-main:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.4);
    }
    .btn-main:active:not(:disabled) { transform: scale(0.98); }
    .btn-main:disabled { opacity: 0.7; cursor: not-allowed; filter: grayscale(1); }

    /* --- Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© (Ø®ÙÙŠÙØ© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬) --- */
    .particle {
      position: absolute;
      border-radius: 50%;
      background: var(--primary);
      opacity: 0.1;
      pointer-events: none;
      will-change: transform;
    }

    /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --- */
    .status-badge { @apply px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1; }
    .status-new { @apply bg-amber-100 text-amber-800 border border-amber-200; }
    .status-added { @apply bg-green-100 text-green-800 border border-green-200; }
    
    /* Ø³ÙƒØ±ÙˆÙ„ Ø¨Ø§Ø± Ù…Ø®ØµØµ */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
  </style>
</head>
<body class="antialiased selection:bg-green-200 selection:text-green-900">

  <div id="particles-container" class="fixed inset-0 overflow-hidden pointer-events-none z-0"></div>

  <main class="relative z-10 min-h-screen py-6 px-4 sm:px-6 lg:px-8 flex justify-center">
    <div class="w-full max-w-3xl">
      
      <header class="text-center mb-10 fade-in-up" style="animation-delay: 0s;">
        <div class="relative inline-block mb-4">
          <div class="w-20 h-20 bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl rotate-3 shadow-xl flex items-center justify-center text-4xl text-white floating-icon mx-auto">
            ğŸ“š
          </div>
          <div class="absolute -bottom-2 -right-2 bg-white p-1 rounded-full shadow-md">
             <span class="flex h-6 w-6 relative">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
              <span class="relative inline-flex rounded-full h-6 w-6 bg-green-500 items-center justify-center text-white text-xs font-bold">âœ“</span>
            </span>
          </div>
        </div>
        
        <h1 class="text-4xl sm:text-5xl font-black text-gray-800 mb-2 tracking-tight">
          Ù…Ø¬ØªÙ…Ø¹ <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-blue-600">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
        </h1>
        <div class="inline-flex items-center gap-2 px-4 py-1.5 bg-white/60 backdrop-blur rounded-full border border-white/50 shadow-sm text-sm font-bold text-gray-600 mb-4">
          <span>ğŸ¯</span> Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³
        </div>
        <p class="text-lg text-gray-600 font-medium max-w-md mx-auto">
          Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† ÙˆØ£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±
        </p>
      </header>

      <div id="full-message" class="hidden glass-card rounded-2xl p-8 mb-6 text-center border-r-4 border-red-500 fade-in-up">
        <div class="text-5xl mb-4">ğŸš«</div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…ØºÙ„Ù‚</h2>
        <p class="text-gray-600">ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ (<span id="max-limit-display">1888</span>) Ø¹Ø¶Ùˆ.</p>
      </div>

      <div id="form-container" class="fade-in-up" style="animation-delay: 0.1s;">
        <div class="bg-blue-50 border border-blue-100 rounded-2xl p-4 mb-6 flex items-start gap-3">
          <div class="text-2xl">ğŸ’¡</div>
          <div>
            <h3 class="font-bold text-blue-900 text-sm mb-1">ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…</h3>
            <p class="text-blue-800 text-sm leading-relaxed">
              ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© <strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</strong>ØŒ Ø­ÙŠØ« Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.
            </p>
          </div>
        </div>

        <form id="join-form" class="glass-card rounded-3xl p-6 sm:p-8 space-y-5 shadow-2xl">
          
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù„Ø·Ø§Ù„Ø¨ <span class="text-red-500">*</span></label>
            <div class="input-group">
              <input type="text" id="name" required class="input-field" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§...">
              <span class="input-icon">ğŸ‘¤</span>
            </div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© <span class="text-red-500">*</span></label>
              <div class="input-group">
                <select id="governorate" required class="input-field cursor-pointer appearance-none bg-white">
                  <option value="">Ø§Ø®ØªØ±...</option>
                  <option value="Ù…Ø³Ù‚Ø·">Ù…Ø³Ù‚Ø·</option>
                  <option value="Ø¸ÙØ§Ø±">Ø¸ÙØ§Ø±</option>
                  <option value="Ù…Ø³Ù†Ø¯Ù…">Ù…Ø³Ù†Ø¯Ù…</option>
                  <option value="Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠ">Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠ</option>
                  <option value="Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©">Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</option>
                  <option value="Ø´Ù…Ø§Ù„ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©">Ø´Ù…Ø§Ù„ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©</option>
                  <option value="Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©">Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©</option>
                  <option value="Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</option>
                  <option value="Ø´Ù…Ø§Ù„ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">Ø´Ù…Ø§Ù„ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</option>
                  <option value="Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©">Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©</option>
                  <option value="Ø§Ù„ÙˆØ³Ø·Ù‰">Ø§Ù„ÙˆØ³Ø·Ù‰</option>
                </select>
                <span class="input-icon">ğŸ—ºï¸</span>
                <div class="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 text-xs">â–¼</div>
              </div>
            </div>

            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø§Ù„ÙˆÙ„Ø§ÙŠØ© <span class="text-red-500">*</span></label>
              <div class="input-group">
                <select id="wilayat" required disabled class="input-field cursor-pointer disabled:bg-gray-50 disabled:text-gray-400">
                  <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø£ÙˆÙ„Ø§Ù‹</option>
                </select>
                <span class="input-icon">ğŸ“</span>
                 <div class="absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 text-xs">â–¼</div>
              </div>
            </div>
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø§Ù„Ù…Ø¯Ø±Ø³Ø© <span class="text-red-500">*</span></label>
            <div class="input-group">
              <input type="text" id="school" required class="input-field" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
              <span class="input-icon">ğŸ«</span>
            </div>
             <p class="text-xs text-amber-600 mt-1.5 font-bold flex items-center gap-1">
              <span>âš ï¸</span>
              ØªÙ†ÙˆÙŠÙ‡: Ù„Ø§ Ù†Ø³ØªÙ‚Ø¨Ù„ Ø·Ù„Ø§Ø¨ Ù…Ù† Ù…Ø¯Ø±Ø³Ø© Ø³Ø¹Ø¯ Ø¨Ù† Ù…Ø¹Ø§Ø°
            </p>
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ <span class="text-red-500">*</span></label>
            <div class="input-group">
              <input type="email" id="email" required class="input-field" placeholder="name@example.com" dir="ltr" style="text-align: left; padding-left: 1rem; padding-right: 3rem;">
              <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg">@</span>
            </div>
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 mb-1.5">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (ÙˆØ§ØªØ³Ø§Ø¨) <span class="text-red-500">*</span></label>
            <div class="input-group">
              <input type="tel" id="phone" required pattern="[0-9]{8}" maxlength="8" class="input-field font-mono tracking-widest" placeholder="9XXXXXXX" dir="ltr" style="text-align: left; padding-left: 1rem; padding-right: 3rem;">
              <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg">ğŸ“</span>
            </div>
          </div>

          <button type="submit" id="submit-btn" class="btn-main w-full py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 mt-4">
            <span id="btn-text">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… âœ¨</span>
            <svg id="loading-spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </button>
        </form>
      </div>

      <div id="success-modal" class="hidden fixed inset-0 flex items-center justify-center z-50 p-4 bg-black/40 backdrop-blur-sm">
        <div class="glass-card rounded-3xl p-8 max-w-sm w-full text-center transform scale-100 transition-all">
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-3xl mx-auto mb-4 text-green-600">ğŸ‰</div>
          <h3 class="text-2xl font-bold text-gray-800 mb-2">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h3>
          <p class="text-gray-600 mb-6" id="success-text">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù†Ø¶Ù…Ø§Ù…Ùƒ Ø¥Ù„ÙŠÙ†Ø§.</p>
          <button onclick="location.reload()" class="btn-main w-full py-3 rounded-xl font-bold">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
      </div>

      <footer class="mt-10 text-center fade-in-up" style="animation-delay: 0.2s;">
        <button id="admin-trigger" class="text-xs font-bold text-gray-400 hover:text-green-600 transition-colors bg-white/50 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20">
          ğŸ” Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†
        </button>
        <div class="mt-4 text-sm text-gray-500 font-medium">
          Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2024
        </div>
      </footer>

    </div>
  </main>

  <div id="admin-login-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-gray-900/80 backdrop-blur-sm p-4">
    <div class="glass-card rounded-2xl p-8 w-full max-w-md">
      <div class="text-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        <p class="text-sm text-gray-500">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
      </div>
      <form id="admin-auth-form" class="space-y-4">
        <input type="password" id="admin-pass-input" class="input-field text-center text-2xl tracking-widest" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" autofocus>
        <div id="login-error" class="hidden text-red-500 text-sm font-bold text-center bg-red-50 p-2 rounded">Ø±Ù…Ø² Ø®Ø§Ø·Ø¦!</div>
        <div class="flex gap-3">
          <button type="submit" class="btn-main flex-1 py-3 rounded-xl font-bold">Ø¯Ø®ÙˆÙ„</button>
          <button type="button" onclick="toggleAdminModal(false)" class="flex-1 py-3 rounded-xl font-bold bg-gray-100 text-gray-600 hover:bg-gray-200 transition">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      </form>
    </div>
  </div>

  <div id="admin-dashboard" class="hidden fixed inset-0 z-[60] bg-slate-900 overflow-y-auto">
    <div class="max-w-6xl mx-auto p-4 sm:p-6">
      
      <div class="flex flex-wrap justify-between items-center gap-4 mb-8 bg-slate-800/50 p-4 rounded-2xl border border-slate-700">
        <div>
          <h2 class="text-2xl font-bold text-white flex items-center gap-2">
            <span>ğŸ“Š</span> Ù„ÙˆØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          </h2>
          <p class="text-slate-400 text-sm">Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</p>
        </div>
        <div class="flex items-center gap-3">
          <div class="text-right hidden sm:block">
            <div class="text-xs text-slate-400">Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ</div>
            <div class="text-xl font-bold text-green-400" id="total-stats">0</div>
          </div>
          <button onclick="logoutAdmin()" class="bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white px-4 py-2 rounded-xl font-bold transition border border-red-500/20">
            Ø®Ø±ÙˆØ¬
          </button>
        </div>
      </div>

      <div class="flex flex-wrap gap-3 mb-6">
        <button onclick="filterApps('all')" class="px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 border border-slate-700 transition focus:ring-2 ring-green-500 active-filter" id="btn-filter-all">Ø§Ù„ÙƒÙ„</button>
        <button onclick="filterApps('new')" class="px-4 py-2 rounded-lg bg-slate-800 text-amber-400 hover:bg-slate-700 border border-slate-700 transition" id="btn-filter-new">Ø¬Ø¯ÙŠØ¯ (0)</button>
        <button onclick="filterApps('added')" class="px-4 py-2 rounded-lg bg-slate-800 text-green-400 hover:bg-slate-700 border border-slate-700 transition" id="btn-filter-added">ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©</button>
        
        <label class="mr-auto flex items-center gap-2 cursor-pointer select-none text-slate-300">
          <input type="checkbox" onchange="toggleHideAdded(this)" class="w-5 h-5 rounded accent-green-500">
          Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¶Ø§ÙÙŠÙ†
        </label>
      </div>

      <div id="applications-grid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
        </div>
      
      <div id="admin-loader" class="text-center py-20 text-slate-500 hidden">
        <div class="animate-spin text-4xl mb-4 inline-block">â³</div>
        <p>Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
      </div>

    </div>
  </div>

  <script>
    // ============================================
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ø«ÙˆØ§Ø¨Øª
    // ============================================
    const CONFIG = {
      SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbyWRPAEdZQzFqmAcHDl7S93cGkbyFlcYH-ELOiJg7oUOmVvPjxlcGXzdsYFL-Lz8jUd/exec',
      MAX_MEMBERS: 1888,
      // Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø´ÙØ±: aysha123
      ADMIN_HASH: '28f509c79618a42df443cb148b4f677e3063e9a9e79aa37fca812b5b0ce1cade' 
    };

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª
    const WILAYATS = {
      "Ù…Ø³Ù‚Ø·": ["Ù…Ø³Ù‚Ø·", "Ù…Ø·Ø±Ø­", "Ø¨ÙˆØ´Ø±", "Ø§Ù„Ø³ÙŠØ¨", "Ø§Ù„Ø¹Ø§Ù…Ø±Ø§Øª", "Ù‚Ø±ÙŠØ§Øª"],
      "Ø¸ÙØ§Ø±": ["ØµÙ„Ø§Ù„Ø©", "Ø·Ø§Ù‚Ø©", "Ù…Ø±Ø¨Ø§Ø·", "Ø«Ù…Ø±ÙŠØª", "Ø±Ø®ÙŠÙˆØª", "Ø¶Ù„ÙƒÙˆØª", "Ù…Ù‚Ø´Ù†", "Ø´Ù„ÙŠÙ… ÙˆØ¬Ø²Ø± Ø§Ù„Ø­Ù„Ø§Ù†ÙŠØ§Øª"],
      "Ù…Ø³Ù†Ø¯Ù…": ["Ø®ØµØ¨", "Ø¨Ø®Ø§Ø¡", "Ø¯Ø¨Ø§", "Ù…Ø¯Ø­Ø§Ø¡"],
      "Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠ": ["Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠ", "Ù…Ø­Ø¶Ø©", "Ø§Ù„Ø³Ù†ÙŠÙ†Ø©"],
      "Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©": ["Ù†Ø²ÙˆÙ‰", "Ø³Ù…Ø§Ø¦Ù„", "Ø¨Ù‡Ù„Ø§Ø¡", "Ø£Ø¯Ù…", "Ø§Ù„Ø­Ù…Ø±Ø§Ø¡", "Ù…Ù†Ø­", "Ø¥Ø²ÙƒÙŠ", "Ø¨Ø¯Ø¨Ø¯"],
      "Ø´Ù…Ø§Ù„ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©": ["ØµØ­Ø§Ø±", "Ø´Ù†Ø§Øµ", "Ù„ÙˆÙ‰", "ØµØ­Ù…", "Ø§Ù„Ø®Ø§Ø¨ÙˆØ±Ø©", "Ø§Ù„Ø³ÙˆÙŠÙ‚"],
      "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¨Ø§Ø·Ù†Ø©": ["Ø§Ù„Ø±Ø³ØªØ§Ù‚", "Ø§Ù„Ø¹ÙˆØ§Ø¨ÙŠ", "Ù†Ø®Ù„", "ÙˆØ§Ø¯ÙŠ Ø§Ù„Ù…Ø¹Ø§ÙˆÙ„", "Ø¨Ø±ÙƒØ§Ø¡", "Ø§Ù„Ù…ØµÙ†Ø¹Ø©"],
      "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©": ["ØµÙˆØ±", "Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ§Ù„ÙˆØ§ÙÙŠ", "Ø¬Ø¹Ù„Ø§Ù† Ø¨Ù†ÙŠ Ø¨Ùˆ Ø­Ø³Ù†", "Ø¬Ø¹Ù„Ø§Ù† Ø¨Ù†ÙŠ Ø¨Ùˆ Ø¹Ù„ÙŠ", "Ù…ØµÙŠØ±Ø©"],
      "Ø´Ù…Ø§Ù„ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©": ["Ø¥Ø¨Ø±Ø§Ø¡", "Ø§Ù„Ù…Ø¶ÙŠØ¨ÙŠ", "Ø¨Ø¯ÙŠØ©", "Ø§Ù„Ù‚Ø§Ø¨Ù„", "ÙˆØ§Ø¯ÙŠ Ø¨Ù†ÙŠ Ø®Ø§Ù„Ø¯", "Ø¯Ù…Ø§Ø¡ ÙˆØ§Ù„Ø·Ø§Ø¦ÙŠÙŠÙ†"],
      "Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©": ["Ø¹Ø¨Ø±ÙŠ", "ÙŠÙ†Ù‚Ù„", "Ø¶Ù†Ùƒ"],
      "Ø§Ù„ÙˆØ³Ø·Ù‰": ["Ù‡ÙŠÙ…Ø§", "Ù…Ø­ÙˆØª", "Ø§Ù„Ø¯Ù‚Ù…", "Ø§Ù„Ø¬Ø§Ø²Ø±"]
    };

    // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let appState = {
      records: [],
      filter: 'all',
      hideAdded: false,
      statuses: JSON.parse(localStorage.getItem('app_statuses') || '{}')
    };

    // ============================================
    // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¨ØµØ±ÙŠØ©
    // ============================================
    function initParticles() {
      const container = document.getElementById('particles-container');
      const count = window.innerWidth < 640 ? 10 : 25; // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
      
      for(let i=0; i<count; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        const size = Math.random() * 6 + 2;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        
        // ØªÙˆØ²ÙŠØ¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø£ÙˆÙ„ÙŠ
        p.style.left = Math.random() * 100 + '%';
        p.style.top = Math.random() * 100 + '%';
        
        // Ø­Ø±ÙƒØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Web Animations API Ù„Ø£Ø¯Ø§Ø¡ Ø£ÙØ¶Ù„
        p.animate([
          { transform: 'translate(0, 0)' },
          { transform: `translate(${Math.random()*100 - 50}px, ${Math.random()*100 - 50}px)` }
        ], {
          duration: Math.random() * 10000 + 10000,
          iterations: Infinity,
          direction: 'alternate',
          easing: 'ease-in-out'
        });
        
        container.appendChild(p);
      }
    }
    
    // ============================================
    // Ù…Ù†Ø·Ù‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø©
    // ============================================
    
    // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª
    document.getElementById('governorate').addEventListener('change', function(e) {
      const wSelect = document.getElementById('wilayat');
      const val = e.target.value;
      
      wSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>';
      
      if(val && WILAYATS[val]) {
        wSelect.disabled = false;
        WILAYATS[val].forEach(w => {
          const opt = document.createElement('option');
          opt.value = w;
          opt.text = w;
          wSelect.appendChild(opt);
        });
      } else {
        wSelect.disabled = true;
        wSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø£ÙˆÙ„Ø§Ù‹</option>';
      }
    });

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    document.getElementById('join-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submit-btn');
      const btnText = document.getElementById('btn-text');
      const spinner = document.getElementById('loading-spinner');
      
      // Ù‚ÙÙ„ Ø§Ù„Ø²Ø±
      submitBtn.disabled = true;
      btnText.classList.add('hidden');
      spinner.classList.remove('hidden');

      // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ€ JSON (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!)
      const data = {
        action: 'create',
        id: Date.now().toString(),
        name: document.getElementById('name').value,
        governorate: document.getElementById('governorate').value,
        wilayat: document.getElementById('wilayat').value,
        school: document.getElementById('school').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        submitted_at: new Date().toISOString()
      };

      try {
        const response = await fetch(CONFIG.SCRIPT_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'text/plain;charset=utf-8'
          },
          body: JSON.stringify(data)
        });
        
        const result = await response.json();
        
        if (result.status === 'success') {
          document.getElementById('success-modal').classList.remove('hidden');
          document.getElementById('form-container').classList.add('hidden');
        } else {
          throw new Error(result.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…');
        }
      } catch (error) {
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.\n\nØ§Ù„ØªÙØ§ØµÙŠÙ„: ' + error.message);
        console.error('Ø®Ø·Ø£ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:', error);
        submitBtn.disabled = false;
        btnText.classList.remove('hidden');
        spinner.classList.add('hidden');
      }
    });

    // ============================================
    // Ù…Ù†Ø·Ù‚ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    // ============================================

    // Ø§Ù„ØªØ´ÙÙŠØ± Ù„Ù„ØªØ­Ù‚Ù‚
    async function sha256(message) {
      const msgBuffer = new TextEncoder().encode(message);
      const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    // ÙØªØ­/ØºÙ„Ù‚ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    document.getElementById('admin-trigger').onclick = () => toggleAdminModal(true);
    function toggleAdminModal(show) {
      const modal = document.getElementById('admin-login-modal');
      modal.classList.toggle('hidden', !show);
      if(show) {
        document.getElementById('admin-pass-input').value = '';
        document.getElementById('login-error').classList.add('hidden');
      }
    }

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    document.getElementById('admin-auth-form').onsubmit = async (e) => {
      e.preventDefault();
      const pass = document.getElementById('admin-pass-input').value;
      const hash = await sha256(pass);
      
      if (hash === CONFIG.ADMIN_HASH) {
        toggleAdminModal(false);
        loadAdminDashboard();
      } else {
        document.getElementById('login-error').classList.remove('hidden');
      }
    };

    function logoutAdmin() {
      document.getElementById('admin-dashboard').classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    // ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    async function loadAdminDashboard() {
      const dashboard = document.getElementById('admin-dashboard');
      const loader = document.getElementById('admin-loader');
      dashboard.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      loader.classList.remove('hidden');

      try {
        const res = await fetch(`${CONFIG.SCRIPT_URL}?action=getAll`);
        const json = await res.json();
        
        if(json.status === 'success') {
          appState.records = json.data.reverse(); // Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹
          renderApplications();
        }
      } catch (e) {
        console.error(e);
        alert('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      } finally {
        loader.classList.add('hidden');
      }
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    function renderApplications() {
      const grid = document.getElementById('applications-grid');
      grid.innerHTML = '';
      
      let visibleCount = 0;
      let newCount = 0;

      appState.records.forEach(app => {
        const status = appState.statuses[app.id] || 'new';
        if(status === 'new') newCount++;
        
        // Ù…Ù†Ø·Ù‚ Ø§Ù„ÙÙ„ØªØ±
        if (appState.hideAdded && status === 'added') return;
        if (appState.filter !== 'all' && appState.filter !== status) return;

        visibleCount++;
        const card = document.createElement('div');
        card.className = `bg-slate-800 rounded-2xl p-5 border ${status === 'new' ? 'border-amber-500/50' : 'border-slate-700'} relative group hover:border-slate-500 transition-colors`;
        
        card.innerHTML = `
          <div class="flex justify-between items-start mb-3">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${status === 'new' ? 'bg-amber-500 text-white' : 'bg-green-500 text-white'}">
                ${app.name.charAt(0)}
              </div>
              <div>
                <h4 class="font-bold text-white text-lg">${app.name}</h4>
                <p class="text-xs text-slate-400">${app.governorate} - ${app.wilayat}</p>
              </div>
            </div>
            <span class="status-badge ${status === 'new' ? 'status-new' : 'status-added'}">
              ${status === 'new' ? 'ğŸ†• Ø¬Ø¯ÙŠØ¯' : 'âœ… ØªÙ…'}
            </span>
          </div>
          
          <div class="space-y-2 text-sm text-slate-300 mb-4 bg-slate-900/50 p-3 rounded-xl">
            <div class="flex items-center gap-2">
              <span>ğŸ«</span> <span class="truncate">${app.school}</span>
            </div>
            <div class="flex items-center gap-2 cursor-pointer hover:text-white" onclick="navigator.clipboard.writeText('${app.email}')" title="Ù†Ø³Ø®">
              <span>ğŸ“§</span> <span class="truncate font-mono">${app.email}</span>
            </div>
            <div class="flex items-center gap-2 cursor-pointer hover:text-white" onclick="navigator.clipboard.writeText('${app.phone}')">
              <span>ğŸ“±</span> <span class="font-mono">${app.phone}</span>
            </div>
          </div>

          <div class="flex items-center justify-between mt-2 pt-3 border-t border-slate-700/50">
            <label class="flex items-center gap-2 cursor-pointer text-sm text-white select-none">
              <input type="checkbox" ${status === 'added' ? 'checked' : ''} 
                onchange="updateStatus('${app.id}', this.checked)" 
                class="w-5 h-5 rounded accent-green-500 bg-slate-700 border-none cursor-pointer">
              <span>ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©</span>
            </label>
            <span class="text-xs text-slate-500 font-mono">${new Date(app.submitted_at).toLocaleDateString('en-GB')}</span>
          </div>
        `;
        grid.appendChild(card);
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
      document.getElementById('total-stats').innerText = appState.records.length;
      document.getElementById('btn-filter-new').innerText = `Ø¬Ø¯ÙŠØ¯ (${newCount})`;
      
      // ØªØ­Ø¯ÙŠØ« Ù…Ø¸Ù‡Ø± Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø´Ø·Ø©
      ['all', 'new', 'added'].forEach(f => {
        const btn = document.getElementById(`btn-filter-${f}`);
        if(appState.filter === f) {
          btn.classList.add('ring-2', 'ring-green-500', 'bg-slate-700');
        } else {
          btn.classList.remove('ring-2', 'ring-green-500', 'bg-slate-700');
        }
      });
      
      if(visibleCount === 0) {
        grid.innerHTML = `<div class="col-span-full text-center py-10 text-slate-500 text-lg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¹Ø±Ø¶ ğŸ“­</div>`;
      }
    }

    // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    window.filterApps = (type) => {
      appState.filter = type;
      renderApplications();
    };

    window.toggleHideAdded = (checkbox) => {
      appState.hideAdded = checkbox.checked;
      renderApplications();
    };

    window.updateStatus = (id, isAdded) => {
      appState.statuses[id] = isAdded ? 'added' : 'new';
      localStorage.setItem('app_statuses', JSON.stringify(appState.statuses));
      // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø±Ø³Ù… Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
      renderApplications(); 
    };

    // Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
    initParticles();
  </script>
</body>
</html>
